{"version":3,"sources":["webpack:///src/pages/seckill/add.vue","webpack:///./src/pages/seckill/add.vue?7682","webpack:///./src/pages/seckill/add.vue","webpack:///src/pages/seckill/seckill.vue","webpack:///./src/pages/seckill/seckill.vue?d788","webpack:///./src/pages/seckill/seckill.vue"],"names":["add","data","form","title","begintime","endtime","first_cateid","second_cateid","goodsid","status","formLabelWidth","seckillId","this","$route","params","id","second_catelist","goodslist","dateValue","mounted","changeBreadList","requestCateList","computed","extends_default","Object","vuex_esm","cateList","methods","requestBreadList","requestSeckillList","changeCate","e","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","i","value","children","err","return","console","log","changeSecondCate","_this","request","fid","sid","then","res","list","confirm","_this2","utils_alert","msg","cancel","seckillDetail","_this3","push","update","_this4","$router","path","name","watch","deep","handler","newValue","seckill_add","render","_vm","_h","$createElement","_c","_self","attrs","model","label","label-width","span","callback","$$v","$set","expression","_v","staticClass","type","range-separator","start-placeholder","end-placeholder","value-format","format","on","change","disabled","_l","item","key","catename","goodsname","active-color","inactive-color","active-value","inactive-value","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","seckill","components","vAdd","vBread","breadcrumb","seckillList","edit","del","$confirm","confirmButtonText","cancelButtonText","requestSeckillrList","catch","$message","message","seckill_seckill","directives","rawName","staticStyle","width","margin-bottom","row-key","border","prop","scopedSlots","_u","fn","row","size","min-width","$event"],"mappings":"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","file":"static/js/2.0f54afb73b9e7b2d67b2.js","sourcesContent":["<template>\r\n  <el-form :model=\"form\">\r\n    <el-form-item label=\"活动名称\" :label-width=\"formLabelWidth\">\r\n      <el-col :span=\"8\">\r\n        <el-input v-model=\"form.title\"></el-input>\r\n      </el-col>\r\n    </el-form-item>\r\n    <el-form-item v-model=\"form.img\" label=\"活动时间\" :label-width=\"formLabelWidth\">\r\n      <div class=\"block\">\r\n        <el-date-picker\r\n          v-model=\"dateValue\"\r\n          type=\"daterange\"\r\n          range-separator=\"至\"\r\n          start-placeholder=\"开始日期\"\r\n          end-placeholder=\"结束日期\"\r\n          value-format='yyyy-MM-dd'\r\n          format='yyyy-MM-dd'>\r\n        </el-date-picker>\r\n      </div>\r\n    </el-form-item>\r\n    <el-form-item label=\"一级分类\" :label-width=\"formLabelWidth\">\r\n      <el-select v-model=\"form.first_cateid\" @change=\"changeCate\">\r\n        <el-option label=\"--请选择--\" value=\"\" disabled></el-option>\r\n        <el-option\r\n          v-for=\"item in cateList\"\r\n          :key=\"item.id\"\r\n          :label=\"item.catename\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"二级分类\" :label-width=\"formLabelWidth\">\r\n      <el-select v-model=\"form.second_cateid\" @change=\"changeSecondCate\">\r\n        <el-option label=\"--请选择--\" value=\"\" disabled></el-option>\r\n        <el-option\r\n          v-for=\"item in second_catelist\"\r\n          :key=\"item.id\"\r\n          :label=\"item.catename\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"商品\" :label-width=\"formLabelWidth\">\r\n      <el-select v-model=\"form.goodsid\">\r\n        <el-option label=\"--请选择--\" value=\"\" disabled></el-option>\r\n        <el-option\r\n          v-for=\"item in goodslist\"\r\n          :key=\"item.id\"\r\n          :label=\"item.goodsname\"\r\n          :value=\"item.id\"\r\n        ></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"状态\" :label-width=\"formLabelWidth\">\r\n      <el-switch\r\n        v-model=\"form.status\"\r\n        active-color=\"#13ce66\"\r\n        inactive-color=\"#ccc\"\r\n        :active-value=\"1\"\r\n        :inactive-value=\"2\"\r\n      >\r\n      </el-switch>\r\n    </el-form-item>\r\n    <el-form-item :label-width=\"formLabelWidth\">\r\n      <el-button type=\"primary\" @click=\"confirm\" v-if=\"$route.params.id == 0\"\r\n        >确 定</el-button\r\n      >\r\n      <el-button type=\"primary\" @click=\"update\" v-else>修 改</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { warningAlert, successAlert } from \"../../utils/alert\";\r\nimport { addSeckill, getSeckillDetail, updateSeckill, sidGetGoodsList } from \"../../utils/request\";\r\n// import { mapActions } from 'vuex';\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        title: \"\",\r\n        begintime:'',\r\n        endtime:'',\r\n        first_cateid:'',\r\n        second_cateid:'',\r\n        goodsid:'',\r\n        status: 1,\r\n      },\r\n      formLabelWidth: \"120px\",\r\n      // 路由传参，根据ID请求当前的商品详情，0为添加，其余为修改\r\n      seckillId: this.$route.params.id,\r\n      second_catelist: [], //根据一级分类获取二级分类list\r\n      goodslist: [], //根据一级分类和二级分类获取商品list\r\n      dateValue: [], //活动时间\r\n    };\r\n  },\r\n  mounted() {\r\n    this.changeBreadList();\r\n    this.requestCateList();\r\n  },\r\n  computed:{\r\n    ...mapGetters({\r\n      cateList: \"cate/cateList\",\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      requestBreadList: \"breadListActions\",\r\n      requestSeckillList: \"seckill/seckillListActions\",\r\n      requestCateList: \"cate/cateListActions\",\r\n    }),\r\n    changeCate(e) {\r\n      // 一级分类改变时先清空二级分类和商品\r\n      this.second_catelist = [];\r\n      this.goodslist = [];\r\n      this.form.second_cateid = \"\";\r\n      this.form.goodsid = \"\";\r\n      // 根据一级分类显示二级分类\r\n      for (let i of this.cateList) {\r\n        if (e == i.id) {\r\n          this.second_catelist = i.children;\r\n        }\r\n      }\r\n      console.log(this.second_catelist);\r\n    },\r\n    changeSecondCate(){\r\n      // 二级分类改变时清空商品\r\n      this.goodslist = [];\r\n      this.form.goodsid = \"\";\r\n      sidGetGoodsList({fid:this.form.first_cateid,sid:this.form.second_cateid}).then(res=>{\r\n        this.goodslist = res.data.list;\r\n      })\r\n      // console.log(this.goodslist);\r\n    },\r\n    confirm() {\r\n      this.form.begintime = this.dateValue[0];\r\n      this.form.endtime = this.dateValue[1];\r\n      addSeckill(this.form).then((res) => {\r\n        successAlert(res.data.msg);\r\n        this.requestSeckillList();\r\n        this.cancel();\r\n      });\r\n    },\r\n    seckillDetail() {\r\n      getSeckillDetail({ id: this.seckillId }).then((res) => {\r\n        this.changeCate(res.data.list.first_cateid);\r\n        sidGetGoodsList({fid:res.data.list.first_cateid,sid:res.data.list.second_cateid}).then(res=>{\r\n          this.goodslist = res.data.list;\r\n        })\r\n        this.form = res.data.list;\r\n        this.dateValue = [];\r\n        this.dateValue.push(this.form.begintime);\r\n        this.dateValue.push(this.form.endtime);\r\n      });\r\n    },\r\n    update() {\r\n      this.form.id = this.seckillId;\r\n      this.form.begintime = this.dateValue[0];\r\n      this.form.endtime = this.dateValue[1];\r\n      // console.log(this.form);\r\n      updateSeckill(this.form).then((res) => {\r\n        successAlert(res.data.msg);\r\n        this.requestSeckillList();\r\n        this.cancel();\r\n        this.$router.push(\"/seckill\");\r\n      });\r\n    },\r\n    cancel() {\r\n      // 清空form表单\r\n      this.form = {\r\n        title: \"\",\r\n        begintime:'',\r\n        endtime:'',\r\n        first_cateid:'',\r\n        second_cateid:'',\r\n        goodsid:'',\r\n        status: 1,\r\n      };\r\n      this.second_catelist= []; //根据一级分类获取二级分类list\r\n      this.goodslist= []; //根据一级分类和二级分类获取商品list\r\n      this.dateValue= \"\"; //活动时间\r\n    },\r\n    changeBreadList() {\r\n      // 通过seckillId控制面包屑导航\r\n      if (this.seckillId == undefined) {\r\n        this.requestBreadList([\r\n          { path: \"/\", name: \"首页\" },\r\n          { path: \"/seckill\", name: \"活动列表\" },\r\n        ]);\r\n        // 清空form表单\r\n        this.cancel();\r\n      } else if (this.seckillId == 0) {\r\n        this.requestBreadList([\r\n          { path: \"/\", name: \"首页\" },\r\n          { path: \"/seckill\", name: \"活动列表\" },\r\n          { name: \"活动添加\" },\r\n        ]);\r\n      } else {\r\n        this.requestBreadList([\r\n          { path: \"/\", name: \"首页\" },\r\n          { path: \"/seckill\", name: \"活动列表\" },\r\n          { name: \"活动修改\" },\r\n        ]);\r\n        // 发起活动详情请求\r\n        this.seckillDetail();\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    $route: {\r\n      deep: true,\r\n      handler(newValue) {\r\n        this.seckillId = newValue.params.id;\r\n        this.changeBreadList();\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-form {\r\n  margin: 20px auto;\r\n}\r\n.avatar-uploader >>> .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  min-width: 100px;\r\n  height: 100px;\r\n  line-height: 100px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  min-width: auto;\r\n  height: 100px;\r\n  display: block;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/seckill/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"活动名称\",\"label-width\":_vm.formLabelWidth}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动时间\",\"label-width\":_vm.formLabelWidth},model:{value:(_vm.form.img),callback:function ($$v) {_vm.$set(_vm.form, \"img\", $$v)},expression:\"form.img\"}},[_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\",\"format\":\"yyyy-MM-dd\"},model:{value:(_vm.dateValue),callback:function ($$v) {_vm.dateValue=$$v},expression:\"dateValue\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"一级分类\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{on:{\"change\":_vm.changeCate},model:{value:(_vm.form.first_cateid),callback:function ($$v) {_vm.$set(_vm.form, \"first_cateid\", $$v)},expression:\"form.first_cateid\"}},[_c('el-option',{attrs:{\"label\":\"--请选择--\",\"value\":\"\",\"disabled\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.cateList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.catename,\"value\":item.id}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"二级分类\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{on:{\"change\":_vm.changeSecondCate},model:{value:(_vm.form.second_cateid),callback:function ($$v) {_vm.$set(_vm.form, \"second_cateid\", $$v)},expression:\"form.second_cateid\"}},[_c('el-option',{attrs:{\"label\":\"--请选择--\",\"value\":\"\",\"disabled\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.second_catelist),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.catename,\"value\":item.id}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{model:{value:(_vm.form.goodsid),callback:function ($$v) {_vm.$set(_vm.form, \"goodsid\", $$v)},expression:\"form.goodsid\"}},[_c('el-option',{attrs:{\"label\":\"--请选择--\",\"value\":\"\",\"disabled\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.goodslist),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.goodsname,\"value\":item.id}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":_vm.formLabelWidth}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ccc\",\"active-value\":1,\"inactive-value\":2},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label-width\":_vm.formLabelWidth}},[(_vm.$route.params.id == 0)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 定\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"修 改\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77a43a7e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/seckill/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77a43a7e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77a43a7e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-77a43a7e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/seckill/add.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <v-bread></v-bread>\r\n    <v-add\r\n      v-show=\"this.$route.path == '/seckill/seckilladd/' + this.$route.params.id\"\r\n    ></v-add>\r\n    <div class=\"list\" v-show=\"this.$route.path == '/seckill'\">\r\n      <el-button type=\"primary\" @click=\"add\">添加</el-button>\r\n      <el-table\r\n        :data=\"seckillList\"\r\n        style=\"width: 100%; margin-bottom: 20px\"\r\n        row-key=\"id\"\r\n        border\r\n      >\r\n        <el-table-column prop=\"title\" label=\"名称\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\">\r\n          <template v-slot=\"prop\">\r\n            <el-button type=\"success\" size=\"mini\" v-if=\"prop.row.status == 1\"\r\n              >启用</el-button\r\n            >\r\n            <el-button type=\"danger\" size=\"mini\" v-else>禁止</el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" min-width=\"150\">\r\n          <template v-slot=\"prop\">\r\n            <el-row>\r\n              <el-button type=\"primary\" @click=\"edit(prop.row.id)\"\r\n                >编辑</el-button\r\n              >\r\n              <el-button type=\"danger\" @click=\"del(prop.row.id)\"\r\n                >删除</el-button\r\n              >\r\n            </el-row>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vAdd from \"./add\";\r\nimport vBread from \"../public/breadcrumb\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { delSeckill } from \"../../utils/request\";\r\nimport { successAlert } from \"../../utils/alert\";\r\nexport default {\r\n  components: {\r\n    vAdd,\r\n    vBread,\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      seckillList: \"seckill/seckillList\",\r\n    }),\r\n  },\r\n  mounted() {\r\n    this.requestSeckillList();\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      requestBreadList: \"breadListActions\",\r\n      requestSeckillList: \"seckill/seckillListActions\",\r\n    }),\r\n    add() {\r\n      this.$router.push(\"/seckill/seckilladd/0\");\r\n      this.requestBreadList([\r\n        { path: \"/\", name: \"首页\" },\r\n        { path: \"/seckill\", name: \"活动列表\" },\r\n        { name: \"活动添加\" },\r\n      ]);\r\n      // console.log(this.$route.params.id);\r\n    },\r\n    edit(id) {\r\n      this.$router.push(\"/seckill/seckilladd/\" + id);\r\n    },\r\n    del(id) {\r\n      this.$confirm(\"确定删除该活动?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"error\",\r\n      })\r\n        .then(() => {\r\n          delSeckill({id}).then(res=>{\r\n            successAlert(res.data.msg);\r\n            this.requestSeckillrList();\r\n          })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-button {\r\n  margin: 10px auto;\r\n}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/seckill/seckill.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-bread'),_vm._v(\" \"),_c('v-add',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.$route.path == '/seckill/seckilladd/' + this.$route.params.id),expression:\"this.$route.path == '/seckill/seckilladd/' + this.$route.params.id\"}]}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.$route.path == '/seckill'),expression:\"this.$route.path == '/seckill'\"}],staticClass:\"list\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.seckillList,\"row-key\":\"id\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(prop){return [(prop.row.status == 1)?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"}},[_vm._v(\"启用\")]):_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"禁止\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(prop){return [_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.edit(prop.row.id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.del(prop.row.id)}}},[_vm._v(\"删除\")])],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-698d6741\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/seckill/seckill.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-698d6741\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./seckill.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./seckill.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./seckill.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-698d6741\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./seckill.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-698d6741\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/seckill/seckill.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}